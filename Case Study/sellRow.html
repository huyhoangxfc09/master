<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Case Sell Row</title>
</head>
<img src="https://ebaohiem.com/images/source/san_pham/bao-hiem-nhan-tho-hanwah.jpg" id="logo">
<h1 id="picture"><b>Bảo hiểm nhân thọ</b></h1>
<a href="https://www.youtube.com/embed/u5s6kmIZ8LM"><h3>Giới thiệu về công ty : Chạm vào tôi để xem</h3></a>
<div id="text">
    <p>Đại lý bảo hiểm : Trần Ngọc Tùng </p>
    <p>Sự hài lòng của khách hàng là tiêu chí của chúng tôi</p>
</div>
<body onload="display()">
<table border="1" style="width:500px; height: 300px" >
    <p id="show"></p>
        <tr id="text1">
        <th colspan="2">Thông tin khách hàng</th>
    </tr>
        <tr>
            <th>Căn cước công dân</th>
            <td><input type="number" id="cccd"></td>
        </tr>
        <tr>
            <th>Họ và Tên</th>
            <td><input type="text" id="name"></td>
        </tr>
        <tr>
            <th>Năm sinh</th>
            <td><input type="text" id="birth"></td>
        </tr>
        <tr>
            <th>Quê quán</th>
            <td><input type="text" id="hometowm"></td>
        </tr>
        <tr>
            <th>Giới tính</th>
            <td id="gender">
                <input type="radio" name="gender" value="nam">Nam -
                <input type="radio" name="gender" value="nu">Nữ<br><br>
            </td>
        </tr>
        <tr>
            <th></th>
            <td>
                <button style="background-color: limegreen" onclick="addClient()">Add</button> ---
                <button style="background-color: gold" onclick="editClient()">Edit</button>
            </td>
        </tr>
</table>
<div id="form">
    <p></p>
    <p>Văn phòng Tổng Đại lý Thái Bình</p>
    <p> Lô 9A10 đường Lê Quý Đôn , tổ 36, phường Trần Lãm, TP. Thái Bình, Tỉnh Thái Bình</p>
    <p>T: (0227) 3 744 666</p>
    <p>F: (0227) 3 744 666</p>
</div>
</body>
<link rel="stylesheet" href="loigin.css">
<script>
    //khai báo hướng đối tượng ES6 bằng thẻ class
    class Client {
//tạo constructor
        constructor(cccd,name,birth,hometown,gender) {
            //this. dùng để tham chiếu đến đối tượng client
            this.cccd = cccd;
            this.name = name;
            this.birth =birth;
            this.hometown = hometown;
            this.gender = gender;
        }
        // hàm get dùng để lấy giá trị.
        // hàm set gán giá trị .
        getCccd() {
            return this.cccd;
        }

        setCccd(cccd) {
            this.cccd = cccd;
        }

        getName() {
            return this.name;
        }

        setName(name) {
            this.name = name;
        }

        getBirth() {
            return this.birth;
        }

        setBirth(birth) {
            this.birth = birth;
        }

        getHometown() {
            return this.hometown;
        }

        setHometown(hometown) {
            this.hometown = hometown;
        }
        getGender() {
            return this.gender;
        }
        setGender(gender) {
            this.gender = gender;
        }
    }
    //khởi tạo đối tượng
    let product = new Client('035210004210','Trần Xuân Mạnh','07/09/2000','Mỹ lộc Nam Định ','Nam');
    let product2 = new Client('0352300003100','Không Có Tên','04/04/2000','Mỹ Hạ Trên Mây','Nam');
    //tạo mảng chứa đối tượng
    let clientArr =[product,product2];
    //Tạo hàm hiển thị
    function display() {
        let result = ""; //tạo biến lưu chuỗi HTML tạo bảng
        //tạo tiêu đề bảng
        result += "<table style=\" border: 1px solid black; width: 700px; height: 300px; float: right\" ><th style=\"font-size: 20px\" colspan=\"7\"id='text'>Thông tin khách hàng</th>" +
            "<tr>" +
            "<th>cccd</th>" +
            "<th>name</th>" +
            "<th>birth</th>" +
            "<th>hometown</th>" +
            "<th>gender</th>" +
            "</tr>"
        //tạo dòng thông tin sản phẩm
        for (let i = 0; i < clientArr.length; i++) {
            result += "<tr>" +
                "<td>" + clientArr[i].getCccd() + "</td>" +
                "<td>" + clientArr[i].getName() + "</td>" +
                "<td>" + clientArr[i].getBirth() + "</td>" +
                "<td>" + clientArr[i].getHometown() + "</td>" +
                "<td>" + clientArr[i].getGender() + "</td>" +
                "<td><button style=\"background-color: orange ; color: white\" type=\"button\" onclick='editClient(" + i + ")'>Edit</button></td>" +
                "<td><button style=\"background-color: orange ; color: white\" type=\"button\" onclick='deleteProd(" + i + ")'>Delete</button></td>" +
                "</tr>"
        }
        result += "</table>"
        document.getElementById("show").innerHTML = result;
    }

    //thêm sản phẩm
    function addClient() {
        //lấy giá trị từ input
        let cccd = document.getElementById("cccd").value;
        let name = document.getElementById("name").value;
        let birth = document.getElementById("birth").value;
        let hometown = document.getElementById("hometown").value;
        let gender = document.getElementById("gender").value;

        let client = new Client(cccd, name, birth,hometown,gender); //tạo đối tượng mới
        productArr.push(client);
        display();
    }

    function editClient(index) {
        let cccd = prompt("Input cccd:");
        let name = prompt("Input name: ")
        let birth = prompt("Input birth:");
        let hometown = prompt("Input hometown");
        let gender = prompt("Input gender");

        let newClient = new Client(cccd, name, birth,hometown,gender);
        productArr[index] = newClient;
        display();
    }

    function deleteProd(index) {
        productArr.splice(index, 1);
        display()
    }
</script>
</html>